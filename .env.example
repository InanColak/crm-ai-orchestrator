# =============================================================================
# CRM AI Orchestrator - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# APP CONFIG
# -----------------------------------------------------------------------------
APP_NAME=CRM AI Orchestrator
APP_VERSION=0.1.0
DEBUG=true
LOG_LEVEL=INFO
ENVIRONMENT=development

# -----------------------------------------------------------------------------
# API CONFIG
# -----------------------------------------------------------------------------
API_V1_PREFIX=/api/v1
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# -----------------------------------------------------------------------------
# SUPABASE (Required)
# Get these from: https://app.supabase.com/project/_/settings/api
# -----------------------------------------------------------------------------
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-anon-key
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.your-service-key

# -----------------------------------------------------------------------------
# LLM PROVIDERS (At least one required for production)
# -----------------------------------------------------------------------------
# Anthropic (Primary) - Get from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-your-key-here

# OpenAI (Fallback) - Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-key-here

# Default provider: "anthropic" or "openai"
DEFAULT_LLM_PROVIDER=anthropic
DEFAULT_MODEL=claude-sonnet-4-20250514

# -----------------------------------------------------------------------------
# SECURITY - Encryption (Required for production)
# Generate key: python -c "from backend.services.encryption_service import generate_encryption_key; print(generate_encryption_key())"
# -----------------------------------------------------------------------------
# CRM_ENCRYPTION_KEY=your-32-byte-base64-encoded-key
ENCRYPTION_KEY_VERSION=1

# -----------------------------------------------------------------------------
# HUBSPOT OAUTH (Multi-Tenant - Recommended for Production)
# Get from: https://developers.hubspot.com/docs/api/working-with-oauth
# Create app at: https://app.hubspot.com/developer/
# -----------------------------------------------------------------------------
HUBSPOT_CLIENT_ID=your-hubspot-app-client-id
HUBSPOT_CLIENT_SECRET=your-hubspot-app-client-secret
HUBSPOT_OAUTH_REDIRECT_URI=http://localhost:8000/api/v1/oauth/hubspot/callback
# Comma-separated scopes
HUBSPOT_OAUTH_SCOPES=crm.objects.contacts.read,crm.objects.contacts.write,crm.objects.deals.read,crm.objects.deals.write,crm.objects.companies.read,crm.objects.owners.read

# -----------------------------------------------------------------------------
# HUBSPOT CRM - Legacy/Development (Static Token)
# Get from: https://app.hubspot.com/private-apps/
# NOTE: For production multi-tenant, use OAuth above instead
# -----------------------------------------------------------------------------
HUBSPOT_ACCESS_TOKEN=pat-na1-your-private-app-token
HUBSPOT_PORTAL_ID=12345678

# -----------------------------------------------------------------------------
# SALESFORCE OAUTH (Multi-Tenant - Coming Soon)
# Get from: Salesforce Setup > Apps > App Manager > Connected Apps
# -----------------------------------------------------------------------------
# SALESFORCE_CLIENT_ID=your-client-id
# SALESFORCE_CLIENT_SECRET=your-client-secret
# SALESFORCE_OAUTH_REDIRECT_URI=http://localhost:8000/api/v1/oauth/salesforce/callback
# SALESFORCE_INSTANCE_URL=https://your-instance.salesforce.com

# -----------------------------------------------------------------------------
# EXTERNAL SERVICES - Tavily Web Search (Phase 4.1)
# Get from: https://tavily.com/
# -----------------------------------------------------------------------------
TAVILY_API_KEY=tvly-your-api-key
TAVILY_RATE_LIMIT_PER_MINUTE=60
TAVILY_CACHE_TTL_SECONDS=300

# -----------------------------------------------------------------------------
# OBSERVABILITY (Optional but recommended)
# Get from: https://smith.langchain.com/
# -----------------------------------------------------------------------------
LANGSMITH_API_KEY=lsv2_your-api-key
LANGSMITH_PROJECT=crm-ai-orchestrator
LANGSMITH_TRACING=true

# -----------------------------------------------------------------------------
# WORKFLOW CONFIG
# -----------------------------------------------------------------------------
WORKFLOW_TIMEOUT_SECONDS=300
MAX_AGENT_ITERATIONS=10
APPROVAL_TIMEOUT_HOURS=48

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
HUBSPOT_RATE_LIMIT_PER_SECOND=10
LLM_RATE_LIMIT_PER_MINUTE=60
